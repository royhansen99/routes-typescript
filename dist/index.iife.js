(function(){"use strict";var a=function(r){var t,e=[];return r instanceof RegExp?t=r:t=h(r,e),{re:t,src:r.toString(),keys:e}},h=function(r,t){return r=r.concat("/?").replace(/\/\(/g,"(?:/").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?|\*/g,function(e,o,n,s,c,f){return e==="*"?(t.push(void 0),e):(t.push(s),o=o||"",""+(f?"":o)+"(?:"+(f?o:"")+(n||"")+(c||"([^/]+?)")+")"+(f||""))}).replace(/([\/.])/g,"\\$1").replace(/\*/g,"(.*)"),new RegExp("^"+r+"$","i")},v=function(r,t,e){for(var o,n=e||0,s=r.length;n<s;++n){var c=r[n],f=c.re,R=c.keys,g=[],w={};if(o=t.match(f)){for(var i=1,s=o.length;i<s;++i){var p=R[i-1],d=typeof o[i]=="string"?unescape(o[i]):o[i];p?w[p]=d:g.push(d)}return{params:w,splats:g,route:c.src,next:n+1}}}},u=function(){return{routes:[],routeMap:{},addRoute:function(r,t){if(!r)throw new Error(" route requires a path");if(!t)throw new Error(" route "+r.toString()+" requires a callback");if(this.routeMap[r])throw new Error("path is already defined: "+r);var e=a(r);e.fn=t,this.routes.push(e),this.routeMap[r]=t},removeRoute:function(r){if(!r)throw new Error(" route requires a path");if(!this.routeMap[r])throw new Error("path does not exist: "+r);for(var t=[],e=0;e<this.routes.length;e++){var o=this.routes[e];o.src!==r&&t.push(o)}this.routes=t,delete this.routeMap[r]},match:function(r,t){var e=v(this.routes,r,t);return e&&(e.fn=this.routeMap[e.route],e.next=this.match.bind(this,r,e.next)),e}}};u.Route=a,u.pathToRegExp=h,u.match=v,u.Router=u,module.exports=u})();
//# sourceMappingURL=index.iife.js.map
