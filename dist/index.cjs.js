"use strict";var w=function(r){var t,e=[];return r instanceof RegExp?t=r:t=p(r,e),{re:t,src:r.toString(),keys:e}},p=function(r,t){return r=r.concat("/?").replace(/\/\(/g,"(?:/").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?|\*/g,function(e,o,u,s,c,a){return e==="*"?(t.push(void 0),e):(t.push(s),o=o||"",""+(a?"":o)+"(?:"+(a?o:"")+(u||"")+(c||"([^/]+?)")+")"+(a||""))}).replace(/([\/.])/g,"\\$1").replace(/\*/g,"(.*)"),new RegExp("^"+r+"$","i")},R=function(r,t,e){for(var o,u=e||0,s=r.length;u<s;++u){var c=r[u],a=c.re,d=c.keys,f=[],h={};if(o=t.match(a)){for(var n=1,s=o.length;n<s;++n){var v=d[n-1],g=typeof o[n]=="string"?unescape(o[n]):o[n];v?h[v]=g:f.push(g)}return{params:h,splats:f,route:c.src,next:u+1}}}},i=function(){return{routes:[],routeMap:{},addRoute:function(r,t){if(!r)throw new Error(" route requires a path");if(!t)throw new Error(" route "+r.toString()+" requires a callback");if(this.routeMap[r])throw new Error("path is already defined: "+r);var e=w(r);e.fn=t,this.routes.push(e),this.routeMap[r]=t},removeRoute:function(r){if(!r)throw new Error(" route requires a path");if(!this.routeMap[r])throw new Error("path does not exist: "+r);for(var t=[],e=0;e<this.routes.length;e++){var o=this.routes[e];o.src!==r&&t.push(o)}this.routes=t,delete this.routeMap[r]},match:function(r,t){var e=R(this.routes,r,t);return e&&(e.fn=this.routeMap[e.route],e.next=this.match.bind(this,r,e.next)),e}}};i.Route=w;i.pathToRegExp=p;i.match=R;i.Router=i;module.exports=i;
//# sourceMappingURL=index.cjs.js.map
